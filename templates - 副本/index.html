<!-- templates/index.html -->
{% extends "base.html" %}

{% block content %}
<!-- 欢迎板块 -->
<section class="welcome-section mb-5">
    {{ welcome_html|safe }}
</section>

<!-- 最新文章板块 -->
<h2 id="latest-posts" class="mb-4">最新文章</h2>
{% for post in posts %}
<div class="card mb-3">
        <div class="card-body">
            <div class="d-flex justify-content-between align-items-center"> <!-- 水平布局 -->
                <!-- 左侧内容 -->
                <div class="d-flex flex-column justify-content-center me-3">
                    <h5 class="card-title mb-2">{{ post.title }}</h5>
                    <p class="text-muted small mb-0">
                        分类：{{ post.category }} |
                        作者：{{ post.author.username }} |
                        发布于：{{ post.created_at.strftime('%Y-%m-%d') }}
                    </p>
                </div>

                <!-- 右侧按钮组 -->
                <div class="d-flex gap-2 align-items-center">
                    <a href="{{ url_for('show_post', post_id=post.id) }}" class="btn btn-primary btn-sm">
                        阅读全文
                    </a>
                </div>
            </div>
        </div>
    </div>
{% else %}
<div class="alert alert-warning">暂无文章</div>
{% endfor %}
{% endblock %}