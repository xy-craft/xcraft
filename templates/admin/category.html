<!-- templates/admin/category.html -->
{% extends "admin/base.html" %}

{% block title %}{{ category }} - 我的博客{% endblock %}

{% block content %}
<h2 class="mb-4">{{ category }}分类下的文章</h2>
{% for post in posts %}
<div class="card mb-3">
    <div class="card-body">
        <h5 class="card-title">{{ post.title }}</h5>
        <p class="text-muted small">
            作者：{{ post.author.username }} |
            发布于：{{ post.created_at.strftime('%Y-%m-%d') }}
        </p>
        <!-- templates/admin/category.html -->
        <div class="d-flex gap-2">
    <!-- 阅读全文按钮保持原样 -->
    <a href="{{ url_for('show_post', post_id=post.id) }}" 
       class="btn btn-primary">阅读全文</a>
    
    <!-- 编辑按钮添加铅笔图标 -->
    <a href="{{ url_for('admin_edit_post', post_id=post.id) }}" 
       class="btn btn-warning">
        <i class="bi bi-pencil me-1"></i> 编辑
    </a>
    
    <!-- 删除按钮添加垃圾桶图标 -->
    <a href="{{ url_for('admin_delete_post', post_id=post.id) }}" 
       class="btn btn-danger"
       onclick="return confirm('确定删除？')">
        <i class="bi bi-trash me-1"></i> 删除
    </a>
</div>
    </div>
</div>
{% else %}
<div class="alert alert-warning">该分类下暂无文章</div>
{% endfor %}
{% endblock %}